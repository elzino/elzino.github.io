<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>2019 NAVER AI HACKATHON SPEECH 참가 후기</title>
  <!-- Begin Jekyll SEO tag v2.5.0 -->
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="2019 NAVER AI HACKATHON SPEECH 참가 후기" />
<meta name="author" content="Jinho Lee" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="2019년 9월 중순부터 10월 중순까지 약 한 달가량 진행된 NAVER AI HACATHON에 참여하였습니다! 이번 해커톤의 주제는 한국어 음성인식으로 네이버에서 공개한 50000쌍의 한국어 전화망 데이터를 이용해 진행하였습니다. 대학교 친구인 박승일군과 함께 행복코딩 팀으로 참여해 100팀 중 9등이라는 성과를 거두었습니다! 와아~ :clap: 처음 참가해보는 해커톤이였고 음성인식분야도 잘 몰랐었는데 좋은 성적을 거두어서 기분 좋게 마무리 할 수 있었습니다. 참가신청부터 결선까지 어떻게 준비하고 참여하였는지 후기로 남겨보려고 합니다." />
<meta property="og:description" content="2019년 9월 중순부터 10월 중순까지 약 한 달가량 진행된 NAVER AI HACATHON에 참여하였습니다! 이번 해커톤의 주제는 한국어 음성인식으로 네이버에서 공개한 50000쌍의 한국어 전화망 데이터를 이용해 진행하였습니다. 대학교 친구인 박승일군과 함께 행복코딩 팀으로 참여해 100팀 중 9등이라는 성과를 거두었습니다! 와아~ :clap: 처음 참가해보는 해커톤이였고 음성인식분야도 잘 몰랐었는데 좋은 성적을 거두어서 기분 좋게 마무리 할 수 있었습니다. 참가신청부터 결선까지 어떻게 준비하고 참여하였는지 후기로 남겨보려고 합니다." />
<link rel="canonical" href="https://elzino.github.io/projects/2019-11-16/naver-ai-hackathon-review" />
<meta property="og:url" content="https://elzino.github.io/projects/2019-11-16/naver-ai-hackathon-review" />
<meta property="og:site_name" content="ELZINO PROJECT" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-11-16T00:00:00+00:00" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"https://elzino.github.io/projects/2019-11-16/naver-ai-hackathon-review"},"author":{"@type":"Person","name":"Jinho Lee"},"description":"2019년 9월 중순부터 10월 중순까지 약 한 달가량 진행된 NAVER AI HACATHON에 참여하였습니다! 이번 해커톤의 주제는 한국어 음성인식으로 네이버에서 공개한 50000쌍의 한국어 전화망 데이터를 이용해 진행하였습니다. 대학교 친구인 박승일군과 함께 행복코딩 팀으로 참여해 100팀 중 9등이라는 성과를 거두었습니다! 와아~ :clap: 처음 참가해보는 해커톤이였고 음성인식분야도 잘 몰랐었는데 좋은 성적을 거두어서 기분 좋게 마무리 할 수 있었습니다. 참가신청부터 결선까지 어떻게 준비하고 참여하였는지 후기로 남겨보려고 합니다.","@type":"BlogPosting","headline":"2019 NAVER AI HACKATHON SPEECH 참가 후기","dateModified":"2019-11-16T00:00:00+00:00","url":"https://elzino.github.io/projects/2019-11-16/naver-ai-hackathon-review","datePublished":"2019-11-16T00:00:00+00:00","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <!-- CSS -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nanum+Gothic+Coding|Noto+Sans+KR:400,700|Noto+Serif+KR|Nanum+Myeongjo&display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Libre+Baskerville:400,400i,700">
  <link rel="stylesheet" href="/assets/main.css">
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-touch-icon.png">

  <!-- RSS -->
  <link type="application/atom+xml" rel="alternate" href="https://elzino.github.io/feed.xml" title="ELZINO PROJECT" />

  <!-- Google Analytics-->
  
  
  <!-- MAthjax -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({ messageStyle: 'none' });
  </script>
  <script type="text/javascript">
    MathJax.Hub.Register.StartupHook("End",function () {
      var math_list = document.getElementsByClassName("MathJax_Display");
      for (var i = 0; i < math_list.length; ++i) {
        var W = math_list[i].offsetWidth;
        var w = math_list[i].childNodes[0].offsetWidth;
        if (w > 0.95*W) math_list[i].style.fontSize = (95*W/w)+"%";
      }
    });
  </script>
</head>


  <body>

    <nav class="nav">
  <div class="nav-container">
    <a href="/">
      <h2 class="nav-title">ELZINO PROJECT</h2>
    </a>
    <ul>
      <li><a href="/about">About</a></li>
      <li><a href="/projects">Projects</a></li>
      <li><a href="/papers">Paper Reviews</a></li>
      <li><a href="/life">Life</a></li>
    </ul>
  </div>
</nav>


    <main>
      <div class="post">
  <div class="post-info">
    

    
      <br>
      <span>on </span><time datetime="2019-11-16 00:00:00 +0000">November 16, 2019</time>
    
  </div>

  <h1 class="post-title">2019 NAVER AI HACKATHON SPEECH 참가 후기</h1>
  <div class="post-line"></div>

<!-- 추후 태그 추가
  
    <div class="post-tagrow">
    
      <span class="post-tag">hackathon</span>
    
      <span class="post-tag">deep learning</span>
    
      <span class="post-tag">speech recognition</span>
    
    </div>
  
-->

  <div class="post-content">
    <p>2019년 9월 중순부터 10월 중순까지 약 한 달가량 진행된 <a href="https://campaign.naver.com/aihackathon_speech/" target="_blank">NAVER AI HACATHON</a>에 참여하였습니다! 이번 해커톤의 주제는 한국어 음성인식으로 네이버에서 공개한 50000쌍의 한국어 전화망 데이터를 이용해 진행하였습니다. 대학교 친구인 <a href="https://github.com/psi9730" target="_blank">박승일</a>군과 함께 행복코딩 팀으로 참여해 100팀 중 9등이라는 성과를 거두었습니다! 와아~ <img class="emoji" title=":clap:" alt=":clap:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f44f.png" height="20" width="20"> 처음 참가해보는 해커톤이였고 음성인식분야도 잘 몰랐었는데 좋은 성적을 거두어서 기분 좋게 마무리 할 수 있었습니다. 참가신청부터 결선까지 어떻게 준비하고 참여하였는지 후기로 남겨보려고 합니다.</p>

<h2 id="배경지식-탐색">배경지식 탐색</h2>
<p>서류 통과 메일을 받은 후부터 본격적으로 Speech Recognition 분야를 survey 해보았습니다.
제일 먼저 이 부분의 SOTA를 찾아보기위해 <a href="https://paperswithcode.com/task/speech-recognition" target="_blank">Paper with code</a> 사이트에서 Dataset별로 어떤 연구가 진행되었는지 찾아보았습니다.(Paper with code 짱짱 ㅎㅎ)<br>
그 후 우선적으로 다음 논문들을 읽어보았습니다.</p>
<ul>
  <li><a href="https://arxiv.org/abs/1412.5567" target="_blank">Deep Speech</a></li>
  <li><a href="https://arxiv.org/abs/1512.02595" target="_blank">Deep Speech 2</a></li>
  <li><a href="https://arxiv.org/abs/1508.01211" target="_blank">Listen, Attend and Spell</a></li>
  <li><a href="https://arxiv.org/abs/1904.08779" target="_blank">SpecAugment</a></li>
</ul>

<p>또한 Deep Speech를 만든 바이두에서 강연한 <a href="https://www.youtube.com/watch?v=9dXiAecyJrY&amp;feature=youtu.be&amp;t=13874" target="_blank">영상</a>이 있는데 기존의 전통적인 Speech Recognition 방식에서 벗어나, 어떻게 딥러닝을 사용해 성공적으로 성능을 끌어 올렸는지 쉽게 설명해주십니다. CTC loss, Language Model 등 Deep Speech에서 사용된 개념뿐만 아니라 음성인식 분야에 전반적인 이해를 돕는 영상이라 처음 이 분야를 공부하시려는 분들한테 강추드립니다! <img class="emoji" title=":thumbsup:" alt=":thumbsup:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" height="20" width="20"><br>
Deep Speech, Deep Speech 2는 CTC loss를 사용하였고 Listen, Attend and Spell은 encoder-decoder 방식을 사용하였습니다. 저는 survey 당시 SOTA였던 SpecAugment 방식을 사용하고 싶었고 Naver에서 제공한 <a href="https://github.com/clovaai/speech_hackathon_2019" target="_blank">baseline code</a>도 encoder-decoder 방식을 사용하고 있었기 때문에 encoder-decoder 방식을 사용하기로 결정하였습니다.</p>

<h2 id="예선">예선</h2>
<h4 id="nsml">NSML</h4>
<p>예선이 시작하고 제일 당황스러웠던 것은 로컬에서 잘 돌아가는 모델이 NSML(Naver에서 제공한 딥러닝용 클라우드)에 올리면 잘 안돌아가는 것이였습니다. Librosa 라이브러리를 사용해 mel-spectrogram으로 변환하려고 하였는데 segmentation 오류가 나면서 세션이 죽어버리곤 했습니다. 아무리 디버깅을 해도 이유를 알 수 없어 포기하고 torchaudio를 쓰려던 차에 library간 버전 충돌 때문임을 알고 docker 설정을 바꿔 해결하였습니다.</p>
<h4 id="모델-구조-수정-data-전처리-label-smooth">모델 구조 수정, Data 전처리, label smooth</h4>
<p>예선 초반에 Listen, Attend and Spell 방식으로 encoder-decoder에 attention을 달고 테스트 해보니 6등으로 출발했습니다. 본선 진출은 문제 없겠다라고 생각했는데 그 이후로 시도하는 것마다 성능 향상을 보이지 못해 28등까지 떨어졌습니다. 이때 이번 해커톤에서 결과를 평가할때 공백을 제거하고 비교하는 점에서 착안해 모델이 아예 공백을 예측하지 않도록 바꾸니 큰 성능향상이 이뤄져서 등수를 많이 올릴 수 있었습니다. 추가로 label smooth, 데이터 전처리(특수문자 제거) 등을 통해서 성능을 더 올려 예선을 8위로 마무리하였습니다.</p>

<h2 id="결선">결선</h2>
<p>결선은 온라인 결선과 오프라인 결선으로 나누어 진행되었습니다. 온라인 결선에서는 예선에서 제공되었던 3만쌍에 데이터에다 추가로 2만쌍의 데이터가 더 공개되었습니다.</p>

<h4 id="오프라인-결선">오프라인 결선</h4>
<p>오프라인 결선은 춘천에 있는 네이버 커넥트원 건물에서 진행되었습니다. 처음 들어가자마자 토니 스타크가 살 것 같다고 말했을 만큼 건물이 깔끔하고 멋있게 지어져 있더라고요
<img src="https://www.dropbox.com/s/vmeb4rs78p8kuo5/%EC%9B%B0%EC%BB%B4%EA%B8%B0%ED%94%84%ED%8A%B8.jpg?raw=1" alt="네이버 웰컴 기프트">
처음 갔을때 받은 명찰과 웰컴 기프트에요! 저 초록색 동그란 건 손목 운동할 때 쓰는 거더라고요.<br>
<img src="https://www.dropbox.com/s/mw2thubrnflbt3f/snack.jpg?raw=1" alt="간식">
해커톤 기간동안 무제한으로 먹을 수 있던 간식입니다! 그런데 저 간식 말고도 중간에 떡볶이, 튀김, 콜팝, 치즈볼등 맛있는 간식들을 너무 많이 주셔서 저것들은 별로 안먹었던거 같아요!<br>
<img src="https://www.dropbox.com/s/imvo1l9mnjdw35i/lunch.jpg?raw=1" alt="점심">
<img src="https://www.dropbox.com/s/8uijyxtfsph16pc/dinner.jpg?raw=1" alt="저녁">
점심과 저녁입니다. 정말 정말 맛있었어요 ㅎㅎ 역시 대기업인가 싶더라고요. 덕분에 맛있게 먹고 해커톤에 집중할 수 있었습니다!<br>
<img src="https://www.dropbox.com/s/iu4x8s85yq0n4wi/dorm.jpg?raw=1" alt="숙소">
숙소도 너무 좋았어요. 호텔에 와있는 느낌 ㅎㅎ 클로바 스피커도 처음 사용해 봤는데 너무 신기하더라고요. 이번 해커톤 주제가 음성인식이라 더 신기했던거 같아요.<br>
<img src="https://raw.githubusercontent.com/elzino/naver_ai_hackathon_speech/master/docs/final-board.png" alt="랭킹"><br>
오프라인 결선 기간 동안 어떻게 모델을 개선할지 고민을 많이 했어요. 결론적으로 예선 기간동안 구현했지만 이상하게 성능이 오르지 않았던 빔서치를 좀 더 살펴보았습니다. 그러던 중 빔서치 로직에서 버그를 찾을 수 있었고 버그를 고치니 인식률이 4퍼센트 가량 올랐습니다! 결국 오프라인 결선 시작할 때 11등까지 떨어졌었는데 다시 올려 9등으로 마무리하였습니다. ㅎㅎ</p>

<p>오프라인 결선이 끝나고 1, 2, 3등 팀과 질의 응답시간이 있었습니다. librosa를 이용해 음성파일 앞, 뒤에 있는 침묵을 제거했다는 점, naver에서 weight initialization 관련해서 함정코드를 심어놓았다는 점이 인상깊었습니다. 그리고 무엇보다 1등팀이 training set, valid set을 나눌 때 화자, 스크립트를 고려해서 나눈점이 인상깊었습니다. 해커톤 기간 내내 validation error 와 test error가 비례하지 않아서 이상하다고 생각했는데 화자 및 스크립트에 overfitting 된 점이 문제였습니다. 기본이지만 간과하고 있던 부분이였습니다.</p>

<h2 id="느낀점">느낀점</h2>
<p>이번 해커톤에 참여하여서 처음으로 딥러닝 분야 중 한 task에 몰두해서 모델을 학습시키고 개선해보았습니다. 스피치 분야의 매력도 새롭게 알게 되었고 관심을 갖게 되었습니다.<br>
또한 성능향상을 위해 모델에만 집중하였는데 결국 모델을 향상시키기 위해선 데이터를 잘 이해하는것이 우선인 것을 다시 한 번 깨닫게 되었습니다. weight initialization과 같은 deep learning의 기본의 중요성도 다시 깨닫게 되었습니다.<br>
제가 많이 성장할 수 있었고 무엇보다 즐겁게 참여하여서 너무 행복한 시간이였습니다.<br>
좋은 행사를 마련해준 네이버측에 감사를 표합니다!</p>

<p>추가로 저희팀의 코드 레포지토리 링크를 첨부합니다</p>
<ul>
  <li><a href="https://github.com/elzino/naver_ai_hackathon_speech" target="_blank">행복코딩팀의 hackathon code link</a></li>
</ul>

  </div>

</div>

<!-- 지금 page.next 인걸 paginator로 바꿔야함? -->
<div class="pagination">
  
    <a href="/papers/2019-11-21/radam" class="left arrow">←</a>
  
  

  <a href="#" class="top">Top</a>
</div>


  <!-- Start disqus -->
<script src="/assets/js/disqusLoader.js"></script>
<div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    this.page.url = "https://elzino.github.io/projects/2019-11-16/naver-ai-hackathon-review";  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = "/projects/2019-11-16/naver-ai-hackathon-review"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://elzino-projects.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
<!-- End disqus -->


    </main>
    <footer>
  <div class="footer_wrap">
    <div class="name">
      Jinho Lee
    </div>

    <a href="mailto:elzinomaster@gmail.com" class="email">
      elzinomaster@gmail.com
    </a>

    <div class="footer_row">
      <a href="http://github.com/elzino" target="_blank" class="icon">
        <svg viewbox="0 0 32.6 31.8">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M16.3,0C7.3,0,0,7.3,0,16.3c0,7.2,4.7,13.3,11.1,15.5
          c0.8,0.1,1.1-0.4,1.1-0.8c0-0.4,0-1.4,0-2.8c-4.5,1-5.5-2.2-5.5-2.2c-0.7-1.9-1.8-2.4-1.8-2.4c-1.5-1,0.1-1,0.1-1
          c1.6,0.1,2.5,1.7,2.5,1.7c1.5,2.5,3.8,1.8,4.7,1.4c0.1-1.1,0.6-1.8,1-2.2c-3.6-0.4-7.4-1.8-7.4-8.1c0-1.8,0.6-3.2,1.7-4.4
          C7.4,10.7,6.8,9,7.7,6.8c0,0,1.4-0.4,4.5,1.7c1.3-0.4,2.7-0.5,4.1-0.5c1.4,0,2.8,0.2,4.1,0.5c3.1-2.1,4.5-1.7,4.5-1.7
          c0.9,2.2,0.3,3.9,0.2,4.3c1,1.1,1.7,2.6,1.7,4.4c0,6.3-3.8,7.6-7.4,8c0.6,0.5,1.1,1.5,1.1,3c0,2.2,0,3.9,0,4.5
          c0,0.4,0.3,0.9,1.1,0.8c6.5-2.2,11.1-8.3,11.1-15.5C32.6,7.3,25.3,0,16.3,0z"></path>
        </svg>
      </a>
      <a href="https://www.linkedin.com/in/jinho-lee-3a850b144/" target="_blank" class="icon">
        <svg viewbox="0 0 38.3 38.3">
          <g>
            <rect x="0.8" y="12.8" width="7.9" height="25.5"></rect>
            <ellipse cx="4.7" cy="4.7" rx="4.7" ry="4.7"></ellipse>
            <path d="M21.3,24.9c0-3.6,1.7-5.7,4.8-5.7c2.9,0,4.3,2.1,4.3,5.7c0,3.7,0,13.4,0,13.4h7.9c0,0,0-9.3,0-16.2
              c0-6.8-3.9-10.1-9.3-10.1s-7.7,4.2-7.7,4.2v-3.4h-7.6v25.5h7.6C21.3,38.3,21.3,28.8,21.3,24.9z"></path>
          </g>
        </svg>
      </a>
      <a href="http://instagram.com/_elzino_" target="_blank" class="icon">
        <svg viewbox="0 0 40.2 40.3">
          <g>
            <path d="M20.2,3.6c5.4,0,6,0,8.2,0.1c2,0.1,3,0.4,3.7,0.7C33,4.8,33.7,5.3,34.4,6s1.1,1.4,1.5,2.3
          c0.3,0.7,0.6,1.8,0.7,3.7c0.1,2.1,0.1,2.8,0.1,8.2s0,6-0.1,8.2c-0.1,2-0.4,3-0.7,3.7c-0.4,0.9-0.8,1.6-1.5,2.3s-1.4,1.1-2.3,1.5
          c-0.7,0.3-1.8,0.6-3.7,0.7c-2.1,0.1-2.8,0.1-8.2,0.1s-6,0-8.2-0.1c-2-0.1-3-0.4-3.7-0.7c-0.9-0.4-1.6-0.8-2.3-1.5S4.9,33,4.5,32.1
          c-0.3-0.7-0.6-1.8-0.7-3.7c-0.1-2.1-0.1-2.8-0.1-8.2s0-6,0.1-8.2c0.1-2,0.4-3,0.7-3.7C4.8,7.3,5.3,6.7,6,6s1.4-1.1,2.3-1.5
          C9,4.2,10.1,3.8,12,3.8C14.2,3.7,14.8,3.6,20.2,3.6 M20.2,0c-5.5,0-6.2,0-8.3,0.1C9.7,0.2,8.2,0.6,7,1.1C5.6,1.6,4.5,2.3,3.4,3.4
          S1.6,5.6,1.1,7c-0.5,1.3-0.8,2.8-0.9,4.9C0,14,0,14.7,0,20.2s0,6.2,0.1,8.3s0.4,3.6,0.9,4.9c0.5,1.3,1.2,2.5,2.3,3.6
          s2.2,1.8,3.6,2.3c1.3,0.5,2.8,0.8,4.9,0.9c2.2,0.1,2.8,0.1,8.3,0.1s6.2,0,8.3-0.1s3.6-0.4,4.9-0.9c1.3-0.5,2.5-1.2,3.6-2.3
          s1.8-2.2,2.3-3.6c0.5-1.3,0.8-2.8,0.9-4.9c0.1-2.2,0.1-2.8,0.1-8.3s0-6.2-0.1-8.3S39.7,8.3,39.2,7S38,4.5,36.9,3.4
          s-2.2-1.8-3.6-2.3c-1.3-0.5-2.8-0.8-4.9-0.9C26.3,0,25.7,0,20.2,0L20.2,0L20.2,0z"></path>
            <path d="M20.2,9.8c-5.7,0-10.4,4.6-10.4,10.4s4.6,10.4,10.4,10.4S30.6,26,30.6,20.2S25.9,9.8,20.2,9.8L20.2,9.8z
          M20.2,26.9c-3.7,0-6.7-3-6.7-6.7s3-6.7,6.7-6.7s6.7,3,6.7,6.7C26.9,23.9,23.9,26.9,20.2,26.9L20.2,26.9z"></path>
            <path d="M33.4,9.4c0,1.3-1.1,2.4-2.4,2.4s-2.4-1.1-2.4-2.4s1-2.4,2.3-2.4C32.2,7,33.4,8.1,33.4,9.4L33.4,9.4z">
            </path>
          </g>
        </svg>
      </a>
      <span class="copyright">
        © <time datetime="2020-12-24 14:27:12 +0000">2020</time> Jinho Lee.
      </span>
    </div>

  </div>
</footer>
  </body>
</html>
